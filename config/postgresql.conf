# PostgreSQL konfigurasi untuk replikasi dan performa
listen_addresses = '*'        # Mendengarkan semua alamat IP
wal_level = replica            # Mengaktifkan level wal untuk replikasi
max_wal_senders = 10          # Mengatur jumlah pengirim WAL
hot_standby = on              # Mengaktifkan mode hot standby di standby server
synchronous_commit = off      # Nonaktifkan synchronous commit agar lebih cepat, terutama untuk replikasi async
shared_buffers = 4GB          # Mengatur shared_buffers ke 4 GB (30-40% dari RAM total)
work_mem = 64MB               # Mengatur work_mem agar query lebih cepat, tapi tidak membebani memori
maintenance_work_mem = 512MB  # Menyediakan 512 MB untuk tugas pemeliharaan seperti vacuum dan create index
wal_buffers = 16MB            # Mengatur wal_buffers agar cukup besar untuk wal log tanpa membebani
checkpoint_completion_target = 0.7 # Mengatur target penyelesaian checkpoint ke 70%
effective_cache_size = 12GB   # Memperkirakan cache yang bisa digunakan oleh sistem (sekitar 75% RAM)
max_connections = 100         # Menyediakan hingga 100 koneksi simultan
max_parallel_workers_per_gather = 2  # Mengatur paralelisme untuk query lebih tinggi (tergantung pada kebutuhan)
